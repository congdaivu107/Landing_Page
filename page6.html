<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ly n∆∞·ªõc c·ªßa b·∫°n - Menu R-CORNER</title>
    <link rel="icon" type="image/png" href="drink.png">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            background: linear-gradient(135deg, #f9e7fe 0%, #ffe3e3 50%, #e0f7fa 100%);
            min-height: 100vh;
            font-family: 'Quicksand', Arial, sans-serif;
        }

        .cute-card {
            background: linear-gradient(90deg, #ffe3f0 60%, #e0f7fa 100%);
            color: #444;
            border-radius: 36px;
            box-shadow: 0 12px 40px rgba(255, 128, 171, 0.18), 0 2px 8px #fff8fc;
            padding: 2rem 1.2rem;
            max-width: 420px;
            margin: 2rem auto;
            animation: fadeIn 0.7s;
            transition: box-shadow 0.3s, transform 0.3s;
        }

        .cute-card:hover {
            box-shadow: 0 16px 48px 0 #ffb6d5, 0 2px 8px #fff8fc;
            transform: scale(1.02) translateY(-4px);
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(40px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .drink-img {
            width: 120px;
            height: 120px;
            object-fit: cover;
            border-radius: 24px;
            background: #fff;
            box-shadow: 0 2px 12px rgba(255, 128, 171, 0.13);
            margin-bottom: 1rem;
            border: 3px solid #ffe3f0;
        }

        .topping-badge {
            background: #ffe3f0;
            color: #ff0055;
            border-radius: 16px;
            padding: 0.3rem 1rem 0.3rem 0.7rem;
            margin: 0.2rem 0.2rem 0.2rem 0;
            font-weight: 600;
            font-size: 1rem;
            display: inline-flex;
            align-items: center;
            box-shadow: 0 2px 8px rgba(255, 128, 171, 0.07);
            gap: 0.4rem;
            font-family: 'Quicksand', Arial, sans-serif;
        }

        .topping-badge svg {
            margin-right: 0.1rem;
            vertical-align: middle;
        }

        .btn-main {
            background: linear-gradient(90deg, #ff80ab 60%, #b2ebf2 100%);
            color: #000000;
            border: none;
            font-weight: 700;
            border-radius: 24px;
            box-shadow: 0 2px 8px rgba(255, 128, 171, 0.10);
            padding: 0.7rem 2.2rem;
            font-size: 1.2rem;
            transition: 0.2s;
            margin-left: 0.5rem;
        }

        .btn-main:hover,
        .btn-main:focus {
            background: linear-gradient(90deg, #ffb6d5 60%, #b2ebf2 100%);
            color: #000000;
            transform: translateY(-2px) scale(1.04);
            box-shadow: 0 4px 16px rgba(255, 128, 171, 0.18);
        }

        .step-title {
            color: #ff0055;
            font-weight: bold;
            font-size: 1.3rem;
            margin-bottom: 1.2rem;
            letter-spacing: 0.5px;
        }

        @media (max-width: 600px) {
            .cute-card {
                padding: 1.2rem 0.3rem;
                border-radius: 18px;
                max-width: 98vw;
            }

            .btn-main {
                font-size: 1rem;
                padding: 0.5rem 1.2rem;
                border-radius: 16px;
            }

            .topping-badge {
                font-size: 0.85rem;
                padding: 0.2rem 0.7rem 0.2rem 0.5rem;
                border-radius: 10px;
            }

            .step-title {
                font-size: 1.1rem !important;
            }

            .drink-img {
                width: 68px;
                height: 68px;
                border-radius: 10px;
            }

            img[alt="drink icon"] {
                width: 32px !important;
                height: 32px !important;
            }
        }
    </style>
</head>

<body>
    <div class="container py-3">
        <h1 class="text-center mb-4"
            style="color:#ff0055;font-weight:bold;font-family:'Quicksand',Arial,sans-serif;letter-spacing:1px;">
            <svg width="28" height="28" fill="none" viewBox="0 0 24 24"
                style="vertical-align:middle;margin-bottom:4px;">
                <path
                    d="M12 2C13.1046 2 14 2.89543 14 4V5.38268C14 5.76522 14.214 6.11742 14.5528 6.27639L19.4472 8.72361C19.786 8.88258 20 9.23478 20 9.61732V19C20 20.1046 19.1046 21 18 21H6C4.89543 21 4 20.1046 4 19V9.61732C4 9.23478 4.214 8.88258 4.55279 8.72361L9.44721 6.27639C9.786 6.11742 10 5.76522 10 5.38268V4C10 2.89543 10.8954 2 12 2Z"
                    fill="#ff80ab" />
                    
            </svg>
            Menu R-CORNER
        </h1>
    </div>
    <div class="cute-card text-center" id="final-card">
        <!-- N·ªôi dung s·∫Ω ƒë∆∞·ª£c render b·∫±ng JS -->
         
    </div>
    
    <script>
        // SVG sticker cho t·ª´ng topping
        const toppingPrices = {
            'Tr√¢n ch√¢u': 5000,
            'Th·∫°ch ƒë√†o': 5000,
            'Th·∫°ch d·ª´a' :5000,
            'V·∫£i': 6000,
            'ƒê√†o': 6000,
            'Kem cheese': 7000,
            'Th·∫°ch c√† ph√™': 6000,
            'Tr√¢n ch√¢u ho√†ng kim': 6000,
            // th√™m c√°c topping kh√°c ·ªü ƒë√¢y
};

        const toppingIcons = {
            'Tr√¢n ch√¢u': `<svg width='22' height='22' viewBox='0 0 38 38' fill='none'><circle cx='19' cy='19' r='13' fill='#222'/><circle cx='19' cy='19' r='13' stroke='#ff80ab' stroke-width='2.5'/></svg>`,
            'Th·∫°ch ƒë√†o': `<svg width='22' height='22' viewBox='0 0 38 38' fill='none'><ellipse cx='19' cy='23' rx='10' ry='8' fill='#ffb74d' stroke='#ff80ab' stroke-width='2.5'/><path d='M19 15 Q22 10 27 13' stroke='#81c784' stroke-width='2.5' fill='none'/></svg>`,
            'V·∫£i': `<svg width='22' height='22' viewBox='0 0 38 38' fill='none'><ellipse cx='19' cy='22' rx='9' ry='8' fill='#fffde7' stroke='#ff80ab' stroke-width='2.5'/><circle cx='19' cy='22' r='3' fill='#ffd54f'/><ellipse cx='19' cy='22' rx='9' ry='8' stroke='#b2ebf2' stroke-width='1.2'/></svg>`,
            'ƒê√†o': `<svg width='22' height='22' viewBox='0 0 38 38' fill='none'><ellipse cx='19' cy='23' rx='10' ry='8' fill='#ffb74d' stroke='#ff80ab' stroke-width='2.5'/><ellipse cx='23' cy='17' rx='3' ry='2' fill='#81c784'/></svg>`,
            'Th·∫°ch d·ª´a': `<svg width='22' height='22' viewBox='0 0 38 38' fill='none'><ellipse cx='19' cy='22' rx='9' ry='8' fill='#fff' stroke='#ff80ab' stroke-width='2.5'/><ellipse cx='19' cy='22' rx='9' ry='8' stroke='#b2ebf2' stroke-width='1.2'/><ellipse cx='19' cy='22' rx='4' ry='3' fill='#b2ebf2'/></svg>`
        };
        function renderFinalCard() {
    let drink = {
    };
    let toppings = [];
    let luckyTopping = 'Th·∫°ch d·ª´a';
    let quantity = 1;
    try {
        const d = JSON.parse(localStorage.getItem('selectedDrink'));
        if (d) drink = d;
    } catch { }
    try {
        const t = JSON.parse(localStorage.getItem('selectedToppings'));
        if (Array.isArray(t)) toppings = t;
    } catch { toppings = []; }

    try {
        const l = localStorage.getItem('luckyTopping');
        if (l) luckyTopping = l;
    } catch { }
    try {
        const q = parseInt(localStorage.getItem('drinkQuantity'));
        if (q && q > 0) quantity = q;
    } catch { }

    // T√≠nh t·ªïng ti·ªÅn topping
    const totalToppingPrice = toppings.reduce((sum, t) => sum + (toppingPrices[t] || 0), 0);

    let html = `
    <div class="d-flex justify-content-center align-items-center mb-2" style="gap:0.7rem;">
        <span style="font-size:1.5rem;">üéâ</span>
        <span class="step-title mb-0" style="font-size:1.18rem;color:#ff0055;font-weight:bold;letter-spacing:0.5px;line-height:1.2;">Ly n∆∞·ªõc c·ªßa b·∫°n ƒë√£ s·∫µn s√†ng!</span>
        <img src="drink.png" alt="drink icon" style="width:68px;height:68px;filter:drop-shadow(0 4px 12px #ff0055);margin-bottom:0;">
    </div>
    <img class="drink-img mx-auto mb-3" src="${drink.img}" alt="Ly n∆∞·ªõc">
    <h4 style="color:#ff0055;font-weight:bold;font-family:'Quicksand',Arial,sans-serif;font-size:1.25rem;margin-bottom:0.5rem;">${drink.name}</h4>
    <div class="fw-bold mb-1" style="color:#ff7043;font-size:1.1rem;">${drink.price}</div>
    <div class="mb-2" style="font-size:1.05rem;"><strong style="color:black;">S·ªë l∆∞·ª£ng:</strong> <span style="color:#ff0055;font-weight:600;">${quantity}</span></div>
    <div class="mb-2">
        <strong style="color:black;font-size:1rem;">Topping b·∫°n ch·ªçn:</strong>
        <div class="d-flex flex-column align-items-center gap-1 mt-1">
            ${
                toppings.length > 0
                ? toppings.map(t => {
                    const icon = toppingIcons[t] || '‚ú®';
                    const price = toppingPrices[t] || 0;
                    return `<span class="topping-badge">${icon} ${t} <span style="color:green;font-weight:600;">+${price.toLocaleString()}ƒë</span></span>`;
                }).join('') :
                `<em style="color:#aaa;font-size:0.95rem;">(Kh√¥ng ch·ªçn topping)</em>`
            }
        </div>
    </div>
    
    <div id="total-price" style="font-size: 18px; font-weight: bold; margin-top: 20px; color:black;"">
    üí∞ T·ªïng c·ªông: 
    <span style="color:black;">
        ${(
            (parseInt(drink.price.replace(/[^\d]/g, '')) || 0) * quantity +
            totalToppingPrice * quantity
        ).toLocaleString()}ƒë
    </span>

</div>
<div class="mb-3">
        <strong style="color:red;font-size:1rem;">Topping t·∫∑ng th√™m:</strong>
        <div class="d-flex flex-column align-items-center gap-1 mt-1">
            <span class="topping-badge" style="color:#ff7043;font-size:1.1rem;">${toppingIcons[luckyTopping] || '‚ú®'} ${luckyTopping}</span>
        </div>
    </div>

    <div class="mt-4">
        <button class="btn btn-main px-4" onclick="window.location.href='index.html'">ƒê·∫∑t l·∫°i</button>
    </div>
    
    `;

    document.getElementById('final-card').innerHTML = html;
}

        renderFinalCard();
    </script>
</body>

</html>